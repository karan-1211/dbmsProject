<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ticket Confirmation</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #a3c9ee;
            margin: 0;
            padding: 0;
        }
        .container {
            max-width: 900px;
            margin: 50px auto;
            padding: 20px;
            background-color: #bcbdb7;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        h1 {
            text-align: center;
            margin-bottom: 20px;
        }
        .ticket {
            border: 2px dashed #333;
            padding: 20px;
            margin: 20px 0;
            border-radius: 10px;
            display: flex;
            flex-direction: row;
            justify-content: space-between;
        }
        .ticket-section {
            flex: 1;
            margin-right: 20px;
        }
        .ticket-section:last-child {
            margin-right: 0;
        }
        .ticket-section h3 {
            margin-top: 0;
        }
        .ticket-details {
            margin-bottom: 10px;
        }
        .ticket-details span.label {
            font-weight: bold;
            display: block;
        }
        .passenger, .flight, .price {
            margin-bottom: 20px;
        }
        .details {
            margin-bottom: 10px;
        }
        .details span {
            display: block;
        }
        .details span.label {
            font-weight: bold;
        }
        .airplane-img {
            width: 200%;
            max-width: 150px;
            margin-top: 20px;
        }
        @media (max-width: 600px) {
            .ticket {
                flex-direction: column;
            }
            .ticket-section {
                margin-right: 0;
                margin-bottom: 20px;
            }
            .ticket-section:last-child {
                margin-bottom: 0;
            }
        }
    </style>
</head>
<body >
    <div class="container">
        <h1>Booking Confirmation</h1>
        <div class="ticket">
            <div class="ticket-section passenger">
                <h3>Passenger Details</h3>
                <div id="passenger-details"></div>
            </div>
            <div class="ticket-section flight">
                <h3>Flight Details</h3>
                <div id="flight-details"></div>
            </div>
            <div class="ticket-section price">
                <h3>Total Price</h3>
                <div id="total-price"></div>
                <img src="airplane.jpg" alt="Airplane Image" class="airplane-img">
                <p>thanku for using our airlines</p>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const passengerDetails = JSON.parse(localStorage.getItem('passengerDetails'));
            const selectedFlight = JSON.parse(localStorage.getItem('selectedFlight'));
            const finalPrice = localStorage.getItem('finalPrice');

            const passengerDetailsContainer = document.getElementById('passenger-details');
            passengerDetails.forEach((passenger, index) => {
                const passengerDiv = document.createElement('div');
                passengerDiv.className = 'ticket-details';
                passengerDiv.innerHTML = `
                    <div class="details">
                        <span class="label">Name:</span> <span>${passenger.name}</span>
                        <span class="label">Age:</span> <span>${passenger.dob}</span>
                        <span class="label">Gender:</span> <span>${passenger.gender}</span>
                        <span class="label">Phone:</span> <span>${passenger.phone_no}</span>
                        <span class="label">Email:</span> <span>${passenger.email}</span>
                    </div>
                `;
                passengerDetailsContainer.appendChild(passengerDiv);
            });

            const flightDetailsContainer = document.getElementById('flight-details');
            flightDetailsContainer.innerHTML = `
                <div class="details">
                    <span class="label">Flight ID:</span> <span>${selectedFlight.id}</span>
                    <span class="label">Airplane Code:</span> <span>${selectedFlight.airplane_code}</span>
                    <span class="label">Airplane Name:</span> <span>${selectedFlight.airplane_name}</span>
                    <span class="label">Departure:</span> <span>${selectedFlight.departure}</span>
                    <span class="label">Arrival:</span> <span>${selectedFlight.arrival}</span>
                    <span class="label">Departure Date:</span> <span>${selectedFlight.departure_date}</span>
                    <span class="label">Departure Time:</span> <span>${selectedFlight.departure_time}</span>
                    <span class="label">Arrival Date:</span> <span>${selectedFlight.arrival_date}</span>
                    <span class="label">Arrival Time:</span> <span>${selectedFlight.arrival_time}</span>
                </div>
            `;

            const totalPriceContainer = document.getElementById('total-price');
            totalPriceContainer.innerHTML = `<div class="details"><span class="label">Amount Paid:</span> <span>$${finalPrice}</span></div>`;
        });
    </script>
</body>
</html>
